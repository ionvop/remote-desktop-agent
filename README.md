# Remote Desktop Agent

A minimal remote desktop control system built on top of **[JSONBlob](https://jsonblob.com/)** as a lightweight command-and-state transport layer.

This project consists of:

* üñ• **Agent** (Python) ‚Äî Runs on the target machine
* üåê **Dashboard** (HTML/JS) ‚Äî Web UI for remote interaction

The agent continuously:

* Fetches commands from a JSONBlob endpoint
* Executes them locally (click, write, run)
* Captures and uploads a screenshot

The dashboard:

* Displays the latest screenshot
* Sends normalized click events
* Sends text input
* Sends system commands

---

## ‚ö†Ô∏è Security Warning

This project allows **remote execution of system commands and input control**.

* There is **no authentication**
* Anyone with access to the JSONBlob URL can control the machine
* `run` executes arbitrary shell commands via `os.system`

‚ö†Ô∏è **Do NOT expose this publicly.**
Use only in controlled environments or behind secure networking layers.

---

# Architecture

```
Dashboard (Browser)
        ‚Üì PUT command
   JSONBlob (State Store)
        ‚Üë GET / PUT
Agent (Python on target machine)
```

The JSON structure stored in JSONBlob:

```json
{
  "command": null,
  "screen": "data:image/png;base64,..."
}
```

---

# üìÅ Project Structure

```
agent/
  config.py
  init.py
  main.py
  requirements.txt

dashboard/
  index.html
  script.js
  style.css
```

---

# üñ• Agent

The agent runs on the machine you want to control.

## Configuration

`agent/config.py`

```python
JSONBLOB_URL = "https://api.jsonblob.com/019c7462-ad90-7822-8ddf-b2cdffb86919"
```

Both the agent and dashboard must use the same URL.

---

## Installation

### 1Ô∏è‚É£ Install Python dependencies

```bash
pip install -r requirements.txt
```

`requirements.txt`:

* pillow
* pyautogui
* requests

---

### 2Ô∏è‚É£ Initialize the JSONBlob

Run once:

```bash
python init.py
```

This sets the initial structure:

```json
{
  "command": null,
  "screen": ""
}
```

---

### 3Ô∏è‚É£ Start the Agent

```bash
python main.py
```

The agent will:

* Poll JSONBlob every 4 seconds
* Execute any pending command
* Reset `command` to `null`
* Capture and upload a resized screenshot

---

## Supported Commands

### Click

```json
{
  "type": "click",
  "x": 0.5,
  "y": 0.5
}
```

Coordinates are **normalized (0‚Äì1)** and scaled to screen resolution.

---

### Write Text

```json
{
  "type": "write",
  "text": "Hello world"
}
```

Uses `pyautogui.write()`.

---

### Run Command

```json
{
  "type": "run",
  "command": "start notepad"
}
```

Executed via:

```python
os.system(...)
```

---

## Screenshot Handling

The agent:

* Takes a screenshot using `pyautogui`
* Resizes to max 360px (keeping aspect ratio)
* Converts to PNG
* Encodes to Base64
* Uploads as a data URL

---

# üåê Dashboard

The dashboard is a static web interface.

No backend required.

## Setup

Simply open:

```
dashboard/index.html
```

Or serve with a simple HTTP server:

```bash
python -m http.server
```

---

## Features

### Live Screen View

* Auto-refreshes every 4 seconds
* Displays the latest screenshot from JSONBlob

---

### Click to Control

* Click anywhere on the image
* Sends normalized coordinates
* Agent performs a click at the mapped screen location

---

### Write Text

Enter text and press **Submit** (or Enter):

* Sends `write` command
* Agent types text on the host machine

---

### Run Command

Enter a system command:

* Example (Windows):

  ```
  start notepad
  ```
* Agent executes it via shell

---

# üîÑ Polling Behavior

Both agent and dashboard refresh every 4 seconds.

This creates a simple cooperative loop:

1. Dashboard sends command
2. Agent executes command
3. Agent clears command
4. Agent uploads new screenshot
5. Dashboard refreshes

---

# üß† How It Works

The system uses JSONBlob as a shared state store:

* Dashboard writes `command`
* Agent consumes it
* Agent writes `screen`
* Dashboard displays it

No WebSockets
No backend server
No database

Just REST polling.

---

# üöÄ Possible Improvements

* Authentication layer
* Command queue instead of single command slot
* HTTPS proxy with access control
* WebSocket instead of polling
* Better image compression
* Clipboard sync
* File transfer support

---

# üõë Limitations

* 4-second latency
* No encryption beyond HTTPS
* No multi-user handling
* No session isolation
* Risky without firewall protection

---

## Disclaimer

This documentation was generated by ChatGPT but the entire codebase was written by hand.